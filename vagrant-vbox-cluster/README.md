# vagrant-vbox-cluster

## Requirement for macOS

```bash
$ brew install virtualbox
$ brew install vagrant
```

## Configuration

See [Vagrantfile]().

## Up, Status and Destroy

```bash
$ vagrant up
Bringing machine 'node1' up with 'virtualbox' provider...
Bringing machine 'node2' up with 'virtualbox' provider...
Bringing machine 'node3' up with 'virtualbox' provider...
==> node1: Importing base box 'ubuntu/bionic64'...
==> node1: Matching MAC address for NAT networking...
==> node1: Checking if box 'ubuntu/bionic64' version '20210112.0.0' is up to date...
==> node1: Setting the name of the VM: vagrant-vbox-cluster_node1_1610774218558_81690
==> node1: Clearing any previously set network interfaces...
==> node1: Preparing network interfaces based on configuration...
    node1: Adapter 1: nat
    node1: Adapter 2: bridged
==> node1: Forwarding ports...
    node1: 22 (guest) => 8122 (host) (adapter 1)
==> node1: Running 'pre-boot' VM customizations...
==> node1: Booting VM...
==> node1: Waiting for machine to boot. This may take a few minutes...
    node1: SSH address: 127.0.0.1:8122
    node1: SSH username: vagrant
    node1: SSH auth method: private key
    node1: Warning: Connection reset. Retrying...
    node1: Warning: Remote connection disconnect. Retrying...
    node1:
    node1: Vagrant insecure key detected. Vagrant will automatically replace
    node1: this with a newly generated keypair for better security.
    node1:
    node1: Inserting generated public key within guest...
    node1: Removing insecure key from the guest if it's present...
    node1: Key inserted! Disconnecting and reconnecting using new SSH key...
==> node1: Machine booted and ready!
==> node1: Setting hostname...
==> node1: Configuring and enabling network interfaces...
==> node1: Mounting shared folders...
    node1: /vagrant => /Users/sean/Projects/k8s-practice/vagrant-vbox-cluster
==> node1: Running provisioner: shell...
    node1: Running: inline script
==> node1: Running provisioner: shell...
    node1: Running: inline script
==> node2:...
==> node3:...
```

```bash
$ vagrant status
```

```bash
$ vagrant destroy
```

These VMs are created in VirtualBox's VM location. ex) "$HOME/Virtual VMs"

## Connect

```bash
$ vagrant ssh node1
vagrant@kube1:~$
vagrant@kube1:~$ exit
$
```